<!DOCTYPE html>
<html>

  <head>
    <title>Final Project</title>
    <script src=https://threejs.org/build/three.js></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"></script>
  </head>

  <body>
    <h1 align="center">Final Project</h1>

    <script>
      "use strict";
      let scene, camera, renderer, cameraControls;
      let material = new THREE.MeshStandardMaterial();
      let WIDTH = window.innerWidth;
      let HEIGHT = window.innerHeight;
      let trophy;


      function init()
      {
        scene = new THREE.Scene();
        initRenderer();
        initScene();
        handleResize();
      }

      function initRenderer()
      {
        renderer = new THREE.WebGLRenderer({ antialias: true});
        renderer.setSize(WIDTH, HEIGHT);
        document.body.appendChild(renderer.domElement);
      }

      function initScene()
      {
        initCamera();
        initLight();
      }

      function handleResize()
      {
        window.addEventListener(
          "resize",
          function()
          {
            WIDTH = window.innerWidth;
            HEIGHT = window.innerHeight;
            renderer.setSize(WIDTH, HEIGHT);
            camera.aspect = WIDTH / HEIGHT;
            camera.updateProjectionMatrix();
            render();
          }
        );
      }

      function initCamera()
      {
        camera = new THREE.PerspectiveCamera(50, WIDTH / HEIGHT, 1, 10);
        camera.position.set(0, 4, 4);
        camera.lookAt(scene.position);
        cameraControls = new THREE.OrbitControls(
          camera, renderer.domElement
        );
        cameraControls.addEventListener("change",
          function()
          {
            camera.updateProjectionMatrix();
            render();
          }
        );
      }

      function initLight()
      {
        let keyLight = new THREE.DirectionalLight(0xf2f022, 0.5);
    		keyLight.position.set(-1, 0.5, 1).normalize();

    		let fillLight = new THREE.PointLight(0xf2f022, 0.5);
    		fillLight.position.set(0, 4, 4);
        fillLight.castShadow = true;
    
        let helper = new THREE.PointLightHelper(fillLight);
        scene.add(helper);

    		let backLight = new THREE.DirectionalLight(0xf2f022, 0.5);
    		backLight.position.set(1, -0.5, -1).normalize();

    		//scene.add(keyLight);
    		scene.add(fillLight);
    		//scene.add(backLight);

        let planeGeometry = new THREE.BoxGeometry( 5, 5, 0.1 );
        let planeMaterial = new THREE.MeshStandardMaterial({
          color: 0xffffff,
          side: THREE.DoubleSide
        });
        let planeMesh = new THREE.Mesh(planeGeometry, planeMaterial);
        planeMesh.position.set(0, 0, 0);
        planeMesh.rotation.set(0, 0, 0);
        planeMesh.rotation.x = 90*(Math.PI/180);
        planeMesh.receiveShadow = true;
        scene.add(planeMesh);
      }

      // dat.gui
      let guiControls = new function()
      {
        this.rotationY = 0*(Math.PI/180);
        this.scaleX = 0.05;
        this.scaleY = 0.05;
        this.scaleZ = 0.05;
        this.positionX = 0;
        this.positionY = 2;
        this.positionZ = 0;
        this.castShadow = true;

      }


      let datGUI = new dat.GUI();

      datGUI.add(guiControls, "castShadow");

      function render()
      {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
      }

      init();
      render();

    </script>
  </body>
</html>
